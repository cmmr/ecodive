<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Alpha Diversity Wrapper Function — alpha_div • ecodive</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><!-- katex math --><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css" integrity="sha384-nB0miv6/jRmo5UMMR1wu3Gz6NLsoTkbqJghGIsx//Rlm+ZU03BU6SQNC66uf4l5+" crossorigin="anonymous"><script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js" integrity="sha384-7zkQWkzuo3B5mTepMUcHkMB5jZaolc2xDwL6VFqjFALcbeS9Ggm/Yr2r3Dy4lfFg" crossorigin="anonymous"></script><script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js" integrity="sha384-43gviWU0YVjaDtb/GhzOouOXtZMP/7XUzwPTstBeZFe/+rCMvRwr4yROQP43s0Xk" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script><script src="../katex-auto.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Noto_Sans-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Alpha Diversity Wrapper Function — alpha_div"><meta name="description" content="Alpha Diversity Wrapper Function"><meta property="og:description" content="Alpha Diversity Wrapper Function"><meta property="og:image" content="https://cmmr.github.io/ecodive/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ecodive</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/ecodive.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/adiv.html">Alpha Diversity</a></li>
    <li><a class="dropdown-item" href="../articles/bdiv_guide.html">Selecting a Beta Diversity Metric</a></li>
    <li><a class="dropdown-item" href="../articles/bdiv.html">Beta Diversity</a></li>
    <li><a class="dropdown-item" href="../articles/benchmark.html">Benchmarks</a></li>
    <li><a class="dropdown-item" href="../articles/unifrac.html">UniFrac Calculations</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/cmmr/ecodive/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Alpha Diversity Wrapper Function</h1>
      <small class="dont-index">Source: <a href="https://github.com/cmmr/ecodive/blob/main/R/alpha_div.r" class="external-link"><code>R/alpha_div.r</code></a></small>
      <div class="d-none name"><code>alpha_div.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Alpha Diversity Wrapper Function</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">alpha_div</span><span class="op">(</span></span>
<span>  <span class="va">counts</span>,</span>
<span>  <span class="va">metric</span>,</span>
<span>  norm <span class="op">=</span> <span class="st">"percent"</span>,</span>
<span>  cutoff <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  digits <span class="op">=</span> <span class="fl">3L</span>,</span>
<span>  tree <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  cpus <span class="op">=</span> <span class="fu"><a href="n_cpus.html">n_cpus</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-counts">counts<a class="anchor" aria-label="anchor" href="#arg-counts"></a></dt>
<dd><p>A numeric matrix of count data where each column is a
feature, and each row is a sample. Any object coercible with
<code><a href="https://rdrr.io/r/base/matrix.html" class="external-link">as.matrix()</a></code> can be given here, as well as <code>phyloseq</code>, <code>rbiom</code>,
<code>SummarizedExperiment</code>, and <code>TreeSummarizedExperiment</code> objects.</p></dd>


<dt id="arg-metric">metric<a class="anchor" aria-label="anchor" href="#arg-metric"></a></dt>
<dd><p>The name of an alpha diversity metric. One of <code>c('ace', 'berger', 'brillouin', 'chao1', 'faith', 'fisher', 'inv_simpson', 'margalef', 'mcintosh', 'menhinick', 'observed', 'shannon', 'simpson', 'squares')</code>. Case-insensitive and partial name matching is supported.
Programmatic access via <code>list_metrics('alpha')</code>.</p></dd>


<dt id="arg-norm">norm<a class="anchor" aria-label="anchor" href="#arg-norm"></a></dt>
<dd><p>Normalize the incoming counts. Options are:</p><dl><dt><code>norm = "percent"</code> - </dt>
<dd><p>Relative abundance (sample abundances sum to 1).</p></dd>

<dt><code>norm = "binary"</code>  - </dt>
<dd><p>Unweighted presence/absence (each count is either 0 or 1).</p></dd>

<dt><code>norm = "clr"</code>     - </dt>
<dd><p>Centered log ratio.</p></dd>

<dt><code>norm = "none"</code>    - </dt>
<dd><p>No transformation.</p></dd>


</dl><p>Default: <code>'percent'</code>, which is the expected input for these formulas.</p></dd>


<dt id="arg-cutoff">cutoff<a class="anchor" aria-label="anchor" href="#arg-cutoff"></a></dt>
<dd><p>The maximum number of observations to consider "rare".
Default: <code>10</code>.</p></dd>


<dt id="arg-digits">digits<a class="anchor" aria-label="anchor" href="#arg-digits"></a></dt>
<dd><p>Precision of the returned values, in number of decimal
places. E.g. the default <code>digits=3</code> could return <code>6.392</code>.</p></dd>


<dt id="arg-tree">tree<a class="anchor" aria-label="anchor" href="#arg-tree"></a></dt>
<dd><p>A <code>phylo</code>-class object representing the phylogenetic tree for
the OTUs in <code>counts</code>. The OTU identifiers given by <code>colnames(counts)</code>
must be present in <code>tree</code>. Can be omitted if a tree is embedded with
the <code>counts</code> object or as <code>attr(counts, 'tree')</code>.</p></dd>


<dt id="arg-cpus">cpus<a class="anchor" aria-label="anchor" href="#arg-cpus"></a></dt>
<dd><p>How many parallel processing threads should be used. The
default, <code><a href="n_cpus.html">n_cpus()</a></code>, will use all logical CPU cores.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A numeric vector.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>

<div class="section">
<h3 id="integer-count-requirements">Integer Count Requirements<a class="anchor" aria-label="anchor" href="#integer-count-requirements"></a></h3>


<p>A frequent and critical error in alpha diversity analysis is providing the
wrong type of data to a metric's formula. Some indices are mathematically
defined based on counts of individuals and require raw, integer abundance
data. Others are based on proportional abundances and can accept either
integer counts (which are then converted to proportions) or pre-normalized
proportional data. Using proportional data with a metric that requires
integer counts will return an error message.</p><div class="section">
<h4 id="requires-integer-counts-only">Requires Integer Counts Only<a class="anchor" aria-label="anchor" href="#requires-integer-counts-only"></a></h4>

<ul><li><p>Chao1</p></li>
<li><p>ACE</p></li>
<li><p>Squares Richness Estimator</p></li>
<li><p>Margalef's Index</p></li>
<li><p>Menhinick's Index</p></li>
<li><p>Fisher's Alpha</p></li>
<li><p>Brillouin Index</p></li>
</ul></div>

<div class="section">
<h4 id="can-use-proportional-data">Can Use Proportional Data<a class="anchor" aria-label="anchor" href="#can-use-proportional-data"></a></h4>

<ul><li><p>Observed Features</p></li>
<li><p>Shannon Index</p></li>
<li><p>Gini-Simpson Index</p></li>
<li><p>Inverse Simpson Index</p></li>
<li><p>Berger-Parker Index</p></li>
<li><p>McIntosh Index</p></li>
<li><p>Faith's PD</p></li>
</ul></div>


</div>

    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span>    <span class="co"># Example counts matrix</span></span></span>
<span class="r-in"><span>    <span class="va">ex_counts</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        Streptococcus Bacteroides Corynebacterium Haemophilus Propionibacterium</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Saliva           162           2               0         180                 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Gums             793           4               0          87                 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Nose              22           2             498           2               251</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Stool              1         611               1           1                 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        Staphylococcus</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Saliva              0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Gums                1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Nose              236</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Stool               1</span>
<span class="r-in"><span>    </span></span>
<span class="r-in"><span>    <span class="co"># Shannon diversity values</span></span></span>
<span class="r-in"><span>    <span class="fu">alpha_div</span><span class="op">(</span><span class="va">ex_counts</span>, <span class="st">'Shannon'</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Saliva       Gums       Nose      Stool </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.74119910 0.36684449 1.14222899 0.04824952 </span>
<span class="r-in"><span>    </span></span>
<span class="r-in"><span>    <span class="co"># Chao1 diversity values</span></span></span>
<span class="r-in"><span>    <span class="fu">alpha_div</span><span class="op">(</span><span class="va">ex_counts</span>, <span class="st">'c'</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Saliva   Gums   Nose  Stool </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    4.5    Inf    6.0    Inf </span>
<span class="r-in"><span>    </span></span>
<span class="r-in"><span>    <span class="co"># Faith PD values</span></span></span>
<span class="r-in"><span>    <span class="fu">alpha_div</span><span class="op">(</span><span class="va">ex_counts</span>, <span class="st">'faith'</span>, tree <span class="op">=</span> <span class="va">ex_tree</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Saliva   Gums   Nose  Stool </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    180    191    215    202 </span>
<span class="r-in"><span>    </span></span>
<span class="r-in"><span>    </span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Daniel P. Smith, Alkek Center for Metagenomics and Microbiome Research.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

